>### 使用

    把[修改网页信息]目录下的的文件保存到本地,点击浏览器右上角的扩展程序 -> 扩展程序管理,勾选开发者模式,然后点击加载已经解压的扩展程序,选择包含之前下载文件的目录就可以了。

>### 功能

    可以通过按住 ctrl 键并右键点击节点让节点处于可修改状态,修改信息后,信息会被保存,再次刷新时会让之前保存的信息替换原来的信息

>### 原理

    使用 XPath 来对节点进行定位,因此会依赖节点的渲染顺序

    使用 MutationObserver 对节点信息插入进行拦截,因为 MutationObserver 的监听回调的执行时机早于浏览器的渲染时机,所以替换时一般不会出现内容闪烁。而对于使用客户端渲染的页面,渲染顺序可能会有变化导致结构不确定,这个时候使用轮询的方式进行替换,会出现稍微的内容闪烁。

>### 配置

    点击扩展图标,可以对扩展进行配置

    启动切换: 禁止后,节点不能进入可修改状态,但是之前已经处于可修改状态的节点依然可以修改,再次刷新后数据依然会被覆盖,如果希望数据不会被覆盖,可以在扩展程序管理中暂时禁用该扩展

    url 设置: 默认不设置会拦截所有的网页。支持通配符设置,例如 http?://*.baidu.com/*。支持正则设置,例如 https?://\w*.baidu.com/\w*

    清除缓存: 删除所有记录的网页修改数据

>### 限制

    该扩展使用的是 v3 协议,要求 chrome 的内核版本是 88 及以上。因为大部分浏览器都使用了 chrome 内核,因此可支持大部分浏览器。可以按 F12 打开浏览器控制台,输入 navigator.userAgent,假如输出是 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36',那么这个是 102 版本的,可以支持

    如果网页的文档结构是类似这样的
    <div>
      hello world
      <div>你好</div>
    </div>
    hello world 有兄弟节点,但是自身没有被元素节点包围,hello world 文本将不能被修改,因为如果可以修改,在修改过程中容易导致节点的结构发生更改,导致后续的替换失败。

    因为是使用 MutationObserver 配合 XPath 定位来拦截节点渲染,如果页面结构是不停变化的,例如滚动列表,对这些节点修改后的刷新替换会失效。

    替换目前是一次性的,如果找到目标节点就会进行替换,如果目标节点是先渲染节点结构,但是要等比较长的时间才渲染内容,会造成已替换内容被后出现数据所覆盖。

>### 协议

    本扩展只用于探讨技术实现上的可能性,不能利用该扩展进行不道德或者是违法的事情,否则不得使用该扩展和扩展相关的代码。
